<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Rapport-TP3-IFT3911</title>
        <style type="text/css">
            table{border: outset 2px black;border-collapse: collapse;}
            th {border-bottom: double 2px black;}
            td {border-bottom: solid 1px black;}
            .first_col {border-right: double 2px black;}
            .bold {font-weight: bold;}
            .tg  {border-collapse:collapse;border-spacing:0;}
            .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
            .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
            .tg .tg-s268{text-align:left}
            .flex-wrapper{display: flex; align-items: center;justify-content: flex-start;}
            #infos p{margin-right: 100px;}
            #tache1, #tache2, #tache3, #tache4, #tache5, #tache6, #tache7, #tache8, #tache9,#tache10, #tache11 {color: darkgreen;}
            .underline{text-decoration: underline;}
            .task_content{margin-left: 30px; display: flex; justify-content: space-evenly;}
            h4{margin-bottom: 0;margin-left: 22px;}
            .task_content >div{flex-basis: 49%;}
            #tache10b {display: flex; flex-direction: column; padding-top: 60px;padding-left: 80px;padding-right: 80px;}
            #tache10b > p {margin: 20px 10px;}
            #tache8text li {
            	padding-bottom: 15px;
            }
        </style>
    </head>
    <body style="margin: 0 40px;">
        <h1 style="text-align: center; border: solid;">
            IFT 3911 - Devoir 3
        </h1>
        <h2>
            Informations générales
        </h2>
        <hr>
        <div class="flex-wrapper" id="infos">
            <p>
                <span class="bold">Nom: </span>Jonathan Caspar
                <br />
                <span class="bold">Matricule (4 derniers chiffres): </span>9041
                <br />
                <span class="bold">Courriel: </span>jonathan.caspar@umontreal.ca
                <br />
                <span class="bold">Temps passé: </span>~39 heures
            </p>
            <p>
                <span class="bold">Nom: </span>Johnny Pho
                <br/>
                <span class="bold">Matricule(4 derniers chiffres): </span>6014
                <br /> 
                <span class="bold">Courriel: </span>johnny.pho@umontreal.ca
                <br />
                <span class="bold">Temps passé: </span>~42 heures
            </p>
            <p>
                <span class="bold">Nom: </span>Emna Ghannouchi
                <br/>
                <span class="bold">Matricule(4 derniers chiffres): </span>5141
                <br /> 
                <span class="bold">Courriel: </span>amna.ghannouchi@umontreal.ca
                <br />
                <span class="bold">Temps passé: </span>39 heures
            </p>
        </div>
        <p>Le projet .vpp initial est disponible à cette <a href="DiagClasseAncien.vpp">adresse</a>.</p>
        <p>Le projet .vpp final (re-généré à partir du code) est disponible à cette <a href="DiagClasseNouveau.vpp">adresse</a>.</p>

        <h2>
            Distribution des tâches
        </h2>
        <hr>
        <p>
            <span class="bold">Soumetteur: </span>Jonathan Caspar
        </p>
        <table cellpadding="7px">
            <thead>
                <tr>
                    <th class="first_col">
                        Tâches
                    </th>
                    <th>
                        Jonathan
                    </th>
                    <th>
                        Johnny
                    </th>
                    <th>
                        Emna
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="first_col">Patron de fabriques
                     </td>
                    <td>
                        30%
                    </td>
                    <td>
                        35%
                    </td>
                    <td>
                        35%
                    </td>
                </tr>
                <tr>
                    <td class="first_col"> Patron du singleton
                     </td>
                    <td>
                        20%
                    </td>
                    <td>
                        40%
                    </td>
                    <td>
                        40%
                    </td>
                </tr>
                <tr>
                    <td class="first_col"> Patron d'état
                     </td>
                    <td>
                    	35% 
                    </td>
                    <td>
                        35%
                    </td>
                    <td>
                        30%
                    </td>
                </tr>
                </tr>
                <tr>
                    <td class="first_col"> Patron de l'observateur
                     </td>
                    <td>
                        33.33%
                    </td>
                    <td>
                        33.33%
                    </td>
                    <td>
                        33.33%
                    </td>
                </tr>
                </tr>
                <tr>
                    <td class="first_col"> Patron de commande
                     </td>
                    <td>
                        20	%
                    </td>
                    <td>
                        60%
                    </td>
                    <td>
                        20%
                    </td>
                </tr>
                </tr>
                <tr>
                    <td class="first_col"> Patron du visiteur
                     </td>
                    <td>
                    	40%
                    </td>
                    <td>
                    	40%
                    </td>
                    <td>
                    	20%
                    </td>
                </tr>
                </tr>
                <tr>
                    <td class="first_col"> Diagramme de paquets
                     </td>
                    <td>
                    	50%
                    </td>
                    <td>
                    	25%
                    </td>
                    <td>
                    	25%
                    </td>
                </tr>
                </tr>
                <tr>
                    <td class="first_col"> Discussion et justification de la qualité du design
                     </td>
                    <td>
                        50%
                    </td>
                    <td>
                        25%
                    </td>
                    <td>
                        25%
                    </td>
                </tr>
                </tr>
                <tr>
                    <td class="first_col"> Réseaux de Pétri par incrément
                     </td>
                    <td>
                        40%
                    </td>
                    <td>
                        20%
                    </td>
                    <td>
                        40%
                    </td>
                </tr>
                <tr>
                    <td class="first_col"> Démontrer que la contrainte (b) est satisfaite.
                     </td>
                    <td>
                        50%
                    </td>
                    <td>
                        10%
                    </td>
                    <td>
                        40%
                    </td>
                </tr>
                <tr>
                    <td class="first_col"> Démontrer que la contrainte (c) est satisfaite.
                     </td>
                    <td>
                        45%
                    </td>
                    <td>
                        20%
                    </td>
                    <td>
                        35%
                    </td>
                </tr>
            </tbody>
        </table>

        <h1>Sommaire</h1>
        <hr>
		<h4>Modélisation et analyse du réseau de Pétri</h4>
        <ul>
			<li><a href="#tache1">Tâche 1 : Patron de fabriques</a><br></li>
			<li><a href="#tache2">Tâche 2 : Patron du singleton</a><br></li>
			<li><a href="#tache3">Tâche 3 : Patron d'état</a><br></li>
			<li><a href="#tache4">Tâche 4 : Patron de l'observateur</a><br></li>
			<li><a href="#tache5">Tâche 5 : Patron de commande</a><br></li>
			<li><a href="#tache6">Tâche 6 : Patron du visiteur</a><br></li>
			<li><a href="#tache7">Tâche 7 : Diagramme de paquets</a><br></li>
			<li><a href="#tache8">Tâche 8 : Discussion et justification de la qualité du design</a><br></li>
		</ul>
		<h4>Modélisation et analyse du réseau de Pétri</h4>
		<ul>
			<li><a href="#tache9">Tâche 9 : Réseaux de Pétri par incrément</a><br></li>
			<li><a href="#tache10">Tâche 10 : Démontrer que la contrainte (b) est satisfaite.</a><br></li>
			<li><a href="#tache11">Tâche 11 : Démontrer que la contrainte (c) est satisfaite.</a><br></li>
        </ul>
        <h1 style="color: red;">Design Logiciel</h1>
        <hr>
        <p>Les projets .vpp contenant tous les diagrammes liés au design sont disponibles ici : le diagramme de classe et de paquets (<a href="Design/DiagClasse.vpp">lien</a>) et les diagrammes de séquences (<a href="Design/DiagSequence.vpp">lien</a>).</p>
        
        <h2 id="tache1">Tâche 1 : Patron de fabriques</h2>
        <hr>

		<div class="task_content">
			<div>
				<h3 class="underline">Diagramme de classe :</h3> 
				<img src="Design/img/PatronFabrique.png" style="width:80%;">
			</div>
			<div>
				<h3 class="underline">Diagrammes de séquence :</h3>
				<img src="Design/img/SeqFabrique1.jpg" style="width:100%;">
				<img src="Design/img/SeqFabrique2.jpg" style="width:100%;">
				<img src="Design/img/SeqFabrique3.jpg" style="width:100%;">
			</div>
		</div>
        
        <br>
        <h2 id="tache2"> Tâche 2 : Patron du singleton</h2>
        <hr>
        <div class="task_content">
			<div>
				<h3 class="underline">Diagramme de classe :</h3> 
				<img src="Design/img/PatronSingleton.png" style="width:60%;">
			</div>
			<div>
				<h3 class="underline">Diagramme de séquence :</h3>
				<img src="Design/img/SeqSingleton.jpg" style="width:100%;">
			</div>
		</div>

        <h2 id="tache3">Tâche 3 : Patron d'état</h2>
        <hr>
        <div class="task_content">
			<div>
				<h3 class="underline">Diagramme de classe :</h3> 
				<img src="Design/img/PatronEtat.png" style="width:60%;">
			</div>
			<div>
				<h3 class="underline">Diagramme de séquence :</h3>
				<img src="Design/img/SeqEtat.jpg" style="width:100%;">
			</div>
		</div>
     
        <h2 id="tache4">Tâche 4 : Patron de l'observateur</h2>
        <hr>
        <div class="task_content">
			<div>
				<h3 class="underline">Diagramme de classe :</h3> 
				<img src="Design/img/PatronObservateur.png" style="width:98%;">
			</div>
			<div>
				<h3 class="underline">Diagramme de séquence :</h3>
				<img src="Design/img/SeqObservateur.jpg" style="width:100%;">
			</div>
		</div>
        
        <h2 id="tache5">Tâche 5 : Patron de commande</h2>
        <hr>
        <div class="task_content" style="flex-direction: column;">
			<div>
				<h3 class="underline">Diagramme de classe :</h3> 
				<img src="Design/img/PatronCommande.png" style="width:65%;">
			</div>
			<div>
				<h3 class="underline">Diagramme de séquence :</h3>
				<img src="Design/img/SeqCommande.jpg" style="width:50%;">
			</div>
		</div>
        
        <br>
        
        <h2 id="tache6">Tâche 6 : Patron du visiteur</h2>
        <hr>
        <div class="task_content">
			<div>
				<h3 class="underline">Diagramme de classe :</h3> 
				<img src="Design/img/PatronVisiteur.png" style="width:95%;">
			</div>
			<div>
				<h3 class="underline">Diagramme de séquence :</h3>
				<img src="Design/img/SeqVisiteur.jpg" style="width:100%;">
			</div>
		</div>
        

        <h2 id="tache7">Tâche 7 : Diagramme de paquets</h2>
        <hr>
        <div class="task_content">
			<div style="flex-basis: 90%;">
				<img src="Design/img/DiagPaquet.png" style="width:80%;">
			</div>
		</div>
        

        <h2 id="tache8">Tâche 8 : Discussion et justification de la qualité du design</h2>
        <hr>
        <div id="tache8text" class="task_content" style="flex-direction: column; padding-right: 40%;">
			<p>Contrairement au devoir 2, le design a été grandement amélioré car :</p>
			<ul>
				<li>L'utilisation de plusieurs patrons de conception a fait en sorte que les classes "clientes" dépendent des abstractions plutôt que des implémentations (DIP) ce qui a diminué grandement le couplage entre les classes. Par conséquent, l'extension du système est facilité (OCP).</li>

				<li>Grâce au patron d'observateur, l'entité qui représente la "base de données" reste consistante avec les informations que leurs multiples utilisateurs (Client et Admin) possèdent.</li>

				<li>Grâce au patron du visiteur, il est possible d'implémenter la logique de parcours des entités et d'extraire les informations nécéssaires dans une seule classe diminuant ainsi le couplage entre les classes.</li>
			</ul>

		</div>
        <br>
		<h1 style="color: red;">Modélisation et analyse du réseau de Pétri</h1>

        <h2 id="tache9">Tâche 9 : Réseaux de Pétri</h2>
        <hr>
        <div class="task_content flex-wrapper">

			<div style="max-width: 60%;">
				<h3 class="bold" style="margin: 90px 0;">a) Le système est un tunnel qui connecte Montréal à la rive Sud. Les voitures entrent dans le tunnel de chaque côté et en sortent du côté opposé. Il y a deux voies: une de Montréal à la rive Sud et une autre dans le sens inverse. Votre modèle doit avoir une place pour chaque voie qui représente la présence d'une voiture à l'entrée du tunnel. On suppose un flux continu de voitures. Donc il doit y avoir une voiture à chaque entrée en tout temps.</h3> 
				<h3 class="bold" style="margin: 90px 0;">b) Comme il y a de la construction dans le tunnel, seule 1 voiture peut être à l'intérieur du tunnel à la fois.</h3> 
				<h3 class="bold" style="margin: 90px 0;">c) Le système n'est pas équitable car on remarque qu'une voie est tout le temps bloquée par l'autre. On introduit une lumière de chaque côté qui permet de faire passer une voiture à la fois de chaque côté de manière équitable.</h3>
			</div>
			<img src="Design/img/PetriC.png" style="width:35%;margin: 0 auto;display: flex;max-width: 500px;">
		</div>

		<h2 id="tache10">Tâche 10 : Démontrer que la contrainte (b) est satisfaite.</h2>
        <hr>
        <div class="task_content">
			<div>
				<h3 class="underline">Graphe d'accessibilité / couverture</h3> 
				<img src="Design/img/DiagCouverturePetri.png">
			</div>
			<div id="tache10b">
				<p>Pour assurer qu'un seul véhicule puisse être présent à la fois dans le tunnel. Il faut que :</p>
				<p>M(TunnelGauche) + M(TunnelDroit) + M(LumiereGauche) + M(LumiereDroite) = 1 en tout temps.</p>

				<p>Puisque le graphe d'accessibilité modélise toutes les configurations possibles du réseau.</p>

				<p>Il suffit de vérifier que le vecteur de pondération <span class="bold">[0,1,0,1,1,0,1,0]</span> (i.e. 0*M(P7) + 1*M(TunnelDroit) + ... + 0*M(P6)) vérifie l'équation précédente dans toutes les configurations du graphe.</p>

				<p>En surlignant en jaune les places concernées (seules certaines configurations ont été coloriées pour donner un exemple) : <span class="bold">on constate que leurs sommes est toujours égal à 1.</span></p>

				<p>Donc, par la loi de conservation, <span class="bold">il n'y jamais plus d'un token (voiture) dans le tunnel à la fois</span>, donc la contrainte (b) est satisfaite.</p>
			</div>
		</div>

		<h2 id="tache11">Tâche 11 : Démontrer que la contrainte (c) est satisfaite.</h2>
        <hr>
        <div style="    margin-right: 50%;">
        	<p>Puisque nous avons volontairement omis les places (<span class="bold">EntréeGauche</span> et <span class="bold">EntréeDroite</span>) qui modélisent l'arrivée continue de voiture dans le graphe d'accessibilité, le graphe de couverture est le même que le graphe d'accessibilité car il n'y a pas de sources infinies de tokens.</p>

        	<p>Nous avons pris cette décision afin de simplifier le graphe car l'absence de ces places n'affectent pas le fonctionnement général du réseau.</p>
        	<p>Ainsi, on remarque dans le graphe que <span class="bold">l'entrée d'un véhicule sur un côté spécifique de la route</span> (ex: entréeVoitureGauche) est <span class="bold">irrémédiablement suivi d'une sortie d'un véhicule du même côté</span> (ex: sortieVoitureGauche). Par la suite, n'importe quel ordre de transitions nous force à effectuer <span class="bold">une transition d'entrée PUIS de sortie d'un véhicule du côté opposé au précédent passage de voiture</span>, jusqu'à se retrouver dans la configuration initiale.</p>

        	<p>Il y a donc <span class="bold">un droit de passage circulaire</span> qui s'opère entre les deux côtés grâce aux lumières qui <span class="bold">alternent</span> (cette alternance est enclenchée par la sortie d'un véhicule d'un certain côté activant ainsi la lumière de l'autre côté, <span class="bold">chaque véhicule entre alors de manière équitable dans le tunnel</span>. La contrainte (c) est donc satisfaite.</p>

        	<p>Cette alternance <span class="bold">empêche donc toute famine</span> dans le système.</p>
		</div>
       
        <br>
        <br>
        <br>
        <br>
    </body>
</html>